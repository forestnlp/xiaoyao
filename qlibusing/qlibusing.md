# QLib使用实践目录

## 目录目标
本目录专注于QLib量化核心流程的实践应用，涵盖从数据获取到策略回测的完整工作流程。遵循"数据处理→因子构建→策略回测"的核心流程，交付工具使用能力。

## 任务规划

### 已完成任务
基于目录下的Jupyter Notebook文件，当前已规划以下8个核心任务：

1. **01_GetData_Builtin_Stock.ipynb** - 股票数据获取
   - 使用QLib内置数据源获取股票基础数据
   - 数据格式转换和预处理
   - 状态：✅ 已创建

2. **02_Calculate_alphas_by_Qlib.ipynb** - Alpha因子计算
   - 基于QLib框架计算常用Alpha因子
   - 因子有效性初步验证
   - 状态：✅ 已创建

3. **03_Factor_Mining_PriceVolume.ipynb** - 价量因子挖掘
   - 基于价格和成交量的因子构建
   - 因子相关性分析和筛选
   - 状态：✅ 已创建

4. **04_Model_Train_LightGBM.ipynb** - LightGBM模型训练
   - 使用LightGBM进行因子建模
   - 模型参数调优和验证
   - 状态：✅ 已创建

5. **05_Strategy_Build_FactorBased.ipynb** - 因子策略构建
   - 基于因子模型构建量化策略
   - 策略信号生成逻辑
   - 状态：✅ 已创建

6. **06_Strategy_Backtest_Analysis.ipynb** - 策略回测分析
   - 策略历史表现回测
   - 风险收益指标计算
   - 状态：✅ 已创建

7. **07_Strategy_Optimize_Parameter.ipynb** - 策略参数优化
   - 策略参数敏感性分析
   - 参数优化和稳定性测试
   - 状态：✅ 已创建

8. **08_Data_Visualization_Report.ipynb** - 数据可视化报告
   - 策略表现可视化展示
   - 综合分析报告生成
   - 状态：✅ 已创建

## 数据管理

### 数据存储规范
- **QLib数据**：存储在 `../qlib_data/` 目录（二进制格式）
- **因子结果**：缓存至 `./factor_cache/` 目录（CSV格式）
- **模型文件**：保存至 `./models/` 目录
- **回测结果**：存储在 `./backtest_results/` 目录

### MLflow实验跟踪
- 实验记录存储在 `./mlruns/` 目录
- 当前实验ID：291852311551131883
- 用于跟踪模型训练和策略回测结果

## 环境要求

### Python环境
- **必须使用conda环境"xiaoyao"**
- 激活命令：`conda activate xiaoyao`
- 禁止在其他环境下运行项目代码

### 依赖包
- qlib：量化研究框架
- lightgbm：机器学习模型
- mlflow：实验跟踪
- pandas, numpy：数据处理
- matplotlib, seaborn：数据可视化

## 开发规范

### 代码风格
- 注释：仅关键逻辑（如因子公式）加简明注释
- 命名：语义化命名（如 open_close_spread 而非 ocs）
- 结构：简洁但完整，核心功能需完整实现

### 任务执行原则
- 使用真实数据，禁止模拟/测试数据替代
- 结果需真实可复现，附数据来源和参数配置
- 单个任务聚焦单一知识点，不混杂无关逻辑

## 当前进度

- [x] 目录结构规划完成
- [x] 8个核心Notebook文件已创建
- [x] MLflow实验环境已配置
- [ ] 各Notebook内容开发（进行中）
- [ ] 因子缓存机制实现
- [ ] 策略回测结果验证
- [ ] 综合分析报告生成

## 下一步计划

1. **数据获取验证**：确保QLib数据源正常可用
2. **因子计算实现**：完成核心Alpha因子的计算逻辑
3. **模型训练调试**：验证LightGBM模型训练流程
4. **策略回测优化**：完善回测框架和性能指标
5. **结果可视化**：生成专业的分析报告

---
*最后更新：2024年12月*
*遵循项目规则：聚焦QLib量化核心流程，先完成再完善*