# 强势上涨趋势选股策略

本项目旨在通过结合多种技术指标，筛选出处于强势上涨趋势、具备突破潜力且波动相对稳健的股票。

## 核心选股逻辑

策略基于三个核心技术规则的组合，要求目标股票在同一天内**同时满足**以下所有条件：

### 规则 1：强势动量 (MACD 金叉)

- **逻辑**: 捕捉处于上升趋势且动能增强的股票。
- **Python 实现思路**:
    - `MACD > MACD Signal` (MACD 快线上穿慢线)
    - `MACD > 0` (MACD 线在零轴上方运行)

### 规则 2：蓄势待发 (价格接近上轨)

- **逻辑**: 筛选价格表现强势，即将或已经突破布林带上轨，显示出强劲上涨潜力的股票。
- **Python 实现思路**:
    - `收盘价 > 布林带上轨 * 0.98`

### 规则 3：波动收缩带支撑 (ATR 处于低位)

- **逻辑**: 选择近期波动性相对较小的股票，过滤掉因过度波动而风险较高的标的，寻求更稳定的上涨机会。
- **Python 实现思路**:
    - `ATR / 收盘价 < 0.05`

---

## 通达信选股公式

您可以在通达信的“公式管理器”中新建一个“条件选股公式”，然后将下面的代码粘贴进去使用。

```tongdaxin
// 1. MACD 指标计算 (参数: 12, 26, 9)
DIFF := EMA(CLOSE, 12) - EMA(CLOSE, 26);
DEA := EMA(DIFF, 9);
MACD_OK := DIFF > DEA AND DIFF > 0; // 规则1：MACD金叉且在零轴之上

// 2. 布林带指标计算 (参数: 20, 2)
MID := MA(CLOSE, 20);
UPPER := MID + 2 * STD(CLOSE, 20);
BOLL_OK := CLOSE > UPPER * 0.98; // 规则2：价格接近布林带上轨

// 3. ATR 指标计算 (参数: 14)
TR := MAX(MAX((HIGH - LOW), ABS(REF(CLOSE, 1) - HIGH)), ABS(REF(CLOSE, 1) - LOW));
ATR14 := MA(TR, 14);
ATR_OK := (ATR14 / CLOSE) < 0.05; // 规则3：波动率收缩

// 最终选股条件：三条规则需同时满足
XG: MACD_OK AND BOLL_OK AND ATR_OK;
```